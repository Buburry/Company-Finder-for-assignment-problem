<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manufacturing Intel Thailand | ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢</title>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * { font-family: 'IBM Plex Sans Thai', sans-serif; }
        code, pre { font-family: 'JetBrains Mono', monospace; }
        
        body {
            background: linear-gradient(135deg, #0F172A 0%, #1E293B 100%);
            min-height: 100vh;
            color: #E2E8F0;
        }
        
        .glass {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 16px;
        }
        
        .province-path {
            fill: #1E3A5F;
            stroke: #3B82F6;
            stroke-width: 0.5;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .province-path:hover {
            fill: #2563EB;
            filter: brightness(1.3);
        }
        
        .province-path.active {
            fill: #10B981;
            stroke: #34D399;
            stroke-width: 1.5;
        }
        
        .province-path.has-companies {
            fill: #1E4D3D;
        }
        
        .province-path.has-companies:hover {
            fill: #10B981;
        }
        
        .map-tooltip {
            position: absolute;
            background: rgba(15, 23, 42, 0.95);
            border: 1px solid #3B82F6;
            border-radius: 8px;
            padding: 8px 12px;
            font-size: 13px;
            pointer-events: none;
            z-index: 100;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #2563EB, #1D4ED8);
            color: white;
            padding: 12px 24px;
            border-radius: 10px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(37, 99, 235, 0.3);
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            padding: 10px 20px;
            border-radius: 10px;
            font-weight: 500;
            border: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
        }
        
        .input-field {
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 12px 16px;
            color: white;
            width: 100%;
            transition: all 0.2s;
        }
        
        .input-field:focus {
            outline: none;
            border-color: #3B82F6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }
        
        .company-card {
            background: rgba(30, 41, 59, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 14px;
            padding: 20px;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .company-card:hover {
            background: rgba(30, 41, 59, 0.9);
            border-color: rgba(59, 130, 246, 0.3);
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }
        
        .tag {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .tag-blue { background: rgba(59, 130, 246, 0.2); color: #60A5FA; }
        .tag-green { background: rgba(16, 185, 129, 0.2); color: #34D399; }
        .tag-orange { background: rgba(245, 158, 11, 0.2); color: #FBBF24; }
        .tag-purple { background: rgba(139, 92, 246, 0.2); color: #A78BFA; }
        .tag-red { background: rgba(239, 68, 68, 0.2); color: #F87171; }
        
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: #94A3B8;
        }
        
        .breadcrumb a {
            color: #60A5FA;
            cursor: pointer;
            transition: color 0.2s;
        }
        
        .breadcrumb a:hover {
            color: #93C5FD;
        }
        
        .stat-card {
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.8), rgba(15, 23, 42, 0.9));
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 14px;
            padding: 20px;
            transition: all 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-4px);
            border-color: rgba(59, 130, 246, 0.5);
        }
        
        .loading-spinner {
            width: 24px;
            height: 24px;
            border: 3px solid rgba(59, 130, 246, 0.2);
            border-top-color: #3B82F6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .ai-message {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(37, 99, 235, 0.1));
            border-left: 3px solid #10B981;
            border-radius: 0 12px 12px 0;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        .user-message {
            background: rgba(59, 130, 246, 0.2);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
            margin-left: 40px;
        }
        
        .province-list-item {
            background: rgba(30, 41, 59, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .province-list-item:hover {
            background: rgba(59, 130, 246, 0.2);
            border-color: rgba(59, 130, 246, 0.3);
        }
        
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: rgba(255,255,255,0.05); }
        ::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 4px; }
    </style>
</head>
<body>
    <div id="app"></div>
    
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        
        // Thailand provinces data with real companies
        const PROVINCES_DATA = {
            "‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£": { region: "central", companies: 4250, x: 48, y: 52 },
            "‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£": { region: "central", companies: 1820, x: 50, y: 55 },
            "‡∏õ‡∏ó‡∏∏‡∏°‡∏ò‡∏≤‡∏ô‡∏µ": { region: "central", companies: 980, x: 47, y: 48 },
            "‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ": { region: "central", companies: 720, x: 46, y: 50 },
            "‡∏û‡∏£‡∏∞‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤": { region: "central", companies: 650, x: 45, y: 45 },
            "‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ": { region: "eastern", companies: 2100, x: 55, y: 56 },
            "‡∏£‡∏∞‡∏¢‡∏≠‡∏á": { region: "eastern", companies: 1450, x: 58, y: 58 },
            "‡∏â‡∏∞‡πÄ‡∏ä‡∏¥‡∏á‡πÄ‡∏ó‡∏£‡∏≤": { region: "eastern", companies: 520, x: 54, y: 53 },
            "‡∏õ‡∏£‡∏≤‡∏à‡∏µ‡∏ô‡∏ö‡∏∏‡∏£‡∏µ": { region: "eastern", companies: 380, x: 56, y: 50 },
            "‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà": { region: "northern", companies: 420, x: 38, y: 22 },
            "‡∏•‡∏≥‡∏û‡∏π‡∏ô": { region: "northern", companies: 310, x: 39, y: 25 },
            "‡∏•‡∏≥‡∏õ‡∏≤‡∏á": { region: "northern", companies: 180, x: 42, y: 23 },
            "‡∏û‡∏¥‡∏©‡∏ì‡∏∏‡πÇ‡∏•‡∏Å": { region: "northern", companies: 150, x: 45, y: 32 },
            "‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤": { region: "northeastern", companies: 480, x: 55, y: 44 },
            "‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô": { region: "northeastern", companies: 320, x: 55, y: 36 },
            "‡∏≠‡∏∏‡∏î‡∏£‡∏ò‡∏≤‡∏ô‡∏µ": { region: "northeastern", companies: 210, x: 54, y: 30 },
            "‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ": { region: "northeastern", companies: 180, x: 62, y: 42 },
            "‡∏™‡∏á‡∏Ç‡∏•‡∏≤": { region: "southern", companies: 350, x: 45, y: 88 },
            "‡∏™‡∏∏‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏ò‡∏≤‡∏ô‡∏µ": { region: "southern", companies: 220, x: 40, y: 76 },
            "‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏ò‡∏£‡∏£‡∏°‡∏£‡∏≤‡∏ä": { region: "southern", companies: 180, x: 43, y: 80 },
            "‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï": { region: "southern", companies: 120, x: 35, y: 78 },
            "‡∏™‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏µ": { region: "central", companies: 420, x: 48, y: 44 },
            "‡∏ô‡∏Ñ‡∏£‡∏õ‡∏ê‡∏°": { region: "central", companies: 380, x: 44, y: 54 },
            "‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏™‡∏≤‡∏Ñ‡∏£": { region: "central", companies: 650, x: 45, y: 56 }
        };
        
        // Real Thai Manufacturing Companies Database
        const COMPANIES_DATABASE = [
            // ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£
            {
                id: 1,
                name: "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡πÄ‡∏î‡∏•‡∏ï‡πâ‡∏≤ ‡∏≠‡∏µ‡πÄ‡∏•‡∏Ñ‡πÇ‡∏ó‡∏£‡∏ô‡∏¥‡∏Ñ‡∏™‡πå (‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢) ‡∏à‡∏≥‡∏Å‡∏±‡∏î (‡∏°‡∏´‡∏≤‡∏ä‡∏ô)",
                nameEn: "Delta Electronics (Thailand) PCL",
                industry: "‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå",
                province: "‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£",
                employees: "5,000+",
                type: "Large",
                productionType: "Make-to-Order",
                website: "https://www.deltathailand.com",
                painPoints: ["‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï", "Supply Chain Management"],
                opportunityScore: 78,
                description: "‡∏ú‡∏π‡πâ‡∏ú‡∏•‡∏¥‡∏ï‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå‡πÅ‡∏•‡∏∞‡πÇ‡∏ã‡∏•‡∏π‡∏ä‡∏±‡πà‡∏ô‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô"
            },
            {
                id: 2,
                name: "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡πÑ‡∏ó‡∏¢‡∏ã‡∏±‡∏°‡∏°‡∏¥‡∏ó ‡πÇ‡∏≠‡πÇ‡∏ï‡∏û‡∏≤‡∏£‡πå‡∏ó ‡∏≠‡∏¥‡∏ô‡∏î‡∏±‡∏™‡∏ï‡∏£‡∏µ ‡∏à‡∏≥‡∏Å‡∏±‡∏î",
                nameEn: "Thai Summit Autoparts Industry Co., Ltd.",
                industry: "‡∏¢‡∏≤‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡πÅ‡∏•‡∏∞‡∏ä‡∏¥‡πâ‡∏ô‡∏™‡πà‡∏ß‡∏ô",
                province: "‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£",
                employees: "1,000-5,000",
                type: "Large",
                productionType: "Make-to-Order",
                website: "https://www.thaisummit.co.th",
                painPoints: ["‡∏Å‡∏≤‡∏£‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£", "‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏™‡∏£‡∏£‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£"],
                opportunityScore: 82,
                description: "‡∏ú‡∏π‡πâ‡∏ú‡∏•‡∏¥‡∏ï‡∏ä‡∏¥‡πâ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏¢‡∏≤‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡∏ä‡∏±‡πâ‡∏ô‡∏ô‡∏≥‡∏Ç‡∏≠‡∏á‡πÑ‡∏ó‡∏¢"
            },
            // ‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£
            {
                id: 3,
                name: "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡πÑ‡∏ó‡∏¢‡∏™‡πÅ‡∏ï‡∏ô‡πÄ‡∏•‡∏¢‡πå‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ ‡∏à‡∏≥‡∏Å‡∏±‡∏î (‡∏°‡∏´‡∏≤‡∏ä‡∏ô)",
                nameEn: "Thai Stanley Electric PCL",
                industry: "‡∏¢‡∏≤‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡πÅ‡∏•‡∏∞‡∏ä‡∏¥‡πâ‡∏ô‡∏™‡πà‡∏ß‡∏ô",
                province: "‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£",
                employees: "1,000-5,000",
                type: "Large",
                productionType: "Make-to-Order",
                website: "https://www.thaistanley.com",
                painPoints: ["‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï", "‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û"],
                opportunityScore: 85,
                description: "‡∏ú‡∏π‡πâ‡∏ú‡∏•‡∏¥‡∏ï‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏™‡πà‡∏≠‡∏á‡∏™‡∏ß‡πà‡∏≤‡∏á‡∏¢‡∏≤‡∏ô‡∏¢‡∏ô‡∏ï‡πå"
            },
            {
                id: 4,
                name: "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡∏®‡∏£‡∏µ‡∏ï‡∏£‡∏±‡∏á‡πÅ‡∏≠‡πÇ‡∏Å‡∏£‡∏≠‡∏¥‡∏ô‡∏î‡∏±‡∏™‡∏ó‡∏£‡∏µ ‡∏à‡∏≥‡∏Å‡∏±‡∏î (‡∏°‡∏´‡∏≤‡∏ä‡∏ô)",
                nameEn: "Sri Trang Agro-Industry PCL",
                industry: "‡∏¢‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå‡∏¢‡∏≤‡∏á",
                province: "‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£",
                employees: "1,000-5,000",
                type: "Large",
                productionType: "Make-to-Stock",
                website: "https://www.sritranggroup.com",
                painPoints: ["‡∏Å‡∏≤‡∏£‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï", "‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö"],
                opportunityScore: 75,
                description: "‡∏ú‡∏π‡πâ‡∏ú‡∏•‡∏¥‡∏ï‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏¢‡∏≤‡∏á‡∏û‡∏≤‡∏£‡∏≤‡∏ä‡∏±‡πâ‡∏ô‡∏ô‡∏≥"
            },
            // ‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ
            {
                id: 5,
                name: "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡πÑ‡∏ó‡∏¢‡∏≠‡∏≠‡∏¢‡∏•‡πå ‡∏à‡∏≥‡∏Å‡∏±‡∏î (‡∏°‡∏´‡∏≤‡∏ä‡∏ô)",
                nameEn: "Thai Oil PCL",
                industry: "‡∏õ‡∏¥‡πÇ‡∏ï‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ",
                province: "‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ",
                employees: "1,000-5,000",
                type: "Large",
                productionType: "Continuous Process",
                website: "https://www.thaioilgroup.com",
                painPoints: ["‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï", "Maintenance Planning"],
                opportunityScore: 70,
                description: "‡πÇ‡∏£‡∏á‡∏Å‡∏•‡∏±‡πà‡∏ô‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏ä‡∏±‡πâ‡∏ô‡∏ô‡∏≥‡∏Ç‡∏≠‡∏á‡πÑ‡∏ó‡∏¢"
            },
            {
                id: 6,
                name: "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡πÑ‡∏ó‡∏¢ ‡πÄ‡∏≠‡πá‡∏ô ‡πÄ‡∏à ‡∏≠‡∏≤‡∏£‡πå ‡∏à‡∏≥‡∏Å‡∏±‡∏î",
                nameEn: "Thai NJR Co., Ltd.",
                industry: "‡∏¢‡∏≤‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡πÅ‡∏•‡∏∞‡∏ä‡∏¥‡πâ‡∏ô‡∏™‡πà‡∏ß‡∏ô",
                province: "‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ",
                employees: "200-500",
                type: "SME",
                productionType: "Make-to-Order",
                website: "https://www.thaiautomotiveparts.com",
                painPoints: ["‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡πÄ‡∏ß‡∏•‡∏≤‡∏ú‡∏•‡∏¥‡∏ï", "‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏á‡∏≤‡∏ô"],
                opportunityScore: 92,
                description: "‡∏ú‡∏π‡πâ‡∏ú‡∏•‡∏¥‡∏ï‡∏ä‡∏¥‡πâ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡∏¢‡∏≤‡∏ô‡∏¢‡∏ô‡∏ï‡πå"
            },
            // ‡∏£‡∏∞‡∏¢‡∏≠‡∏á
            {
                id: 7,
                name: "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡∏û‡∏µ‡∏ó‡∏µ‡∏ó‡∏µ ‡πÇ‡∏Å‡∏•‡∏ö‡∏≠‡∏• ‡πÄ‡∏Ñ‡∏°‡∏¥‡∏Ñ‡∏≠‡∏• ‡∏à‡∏≥‡∏Å‡∏±‡∏î (‡∏°‡∏´‡∏≤‡∏ä‡∏ô)",
                nameEn: "PTT Global Chemical PCL",
                industry: "‡∏õ‡∏¥‡πÇ‡∏ï‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ",
                province: "‡∏£‡∏∞‡∏¢‡∏≠‡∏á",
                employees: "5,000+",
                type: "Large",
                productionType: "Continuous Process",
                website: "https://www.pttgcgroup.com",
                painPoints: ["‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï", "‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô"],
                opportunityScore: 72,
                description: "‡∏ú‡∏π‡πâ‡∏ô‡∏≥‡∏î‡πâ‡∏≤‡∏ô‡∏õ‡∏¥‡πÇ‡∏ï‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ‡∏Ñ‡∏£‡∏ö‡∏ß‡∏á‡∏à‡∏£"
            },
            {
                id: 8,
                name: "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡∏≠‡∏µ‡∏™‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô ‡πÇ‡∏û‡∏•‡∏µ‡πÄ‡∏°‡∏≠‡∏£‡πå ‡∏Å‡∏£‡∏∏‡πä‡∏õ ‡∏à‡∏≥‡∏Å‡∏±‡∏î (‡∏°‡∏´‡∏≤‡∏ä‡∏ô)",
                nameEn: "Eastern Polymer Group PCL",
                industry: "‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å",
                province: "‡∏£‡∏∞‡∏¢‡∏≠‡∏á",
                employees: "500-1,000",
                type: "SME",
                productionType: "Make-to-Order",
                website: "https://www.epg.co.th",
                painPoints: ["‡∏Å‡∏≤‡∏£‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå Workload", "‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£"],
                opportunityScore: 88,
                description: "‡∏ú‡∏π‡πâ‡∏ú‡∏•‡∏¥‡∏ï‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡∏Ñ‡∏£‡∏ö‡∏ß‡∏á‡∏à‡∏£"
            },
            // ‡∏õ‡∏ó‡∏∏‡∏°‡∏ò‡∏≤‡∏ô‡∏µ
            {
                id: 9,
                name: "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡πÅ‡∏≠‡∏î‡∏ß‡∏≤‡∏ô‡∏ã‡πå ‡∏≠‡∏¥‡∏ô‡πÇ‡∏ü‡∏£‡πå ‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ß‡∏¥‡∏™ ‡∏à‡∏≥‡∏Å‡∏±‡∏î (‡∏°‡∏´‡∏≤‡∏ä‡∏ô)",
                nameEn: "Advanced Info Service PCL",
                industry: "‡πÇ‡∏ó‡∏£‡∏Ñ‡∏°‡∏ô‡∏≤‡∏Ñ‡∏°",
                province: "‡∏õ‡∏ó‡∏∏‡∏°‡∏ò‡∏≤‡∏ô‡∏µ",
                employees: "5,000+",
                type: "Large",
                productionType: "Service",
                website: "https://www.ais.th",
                painPoints: ["‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡∏ô", "‡∏Å‡∏≤‡∏£‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£"],
                opportunityScore: 65,
                description: "‡∏ú‡∏π‡πâ‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏£‡∏≤‡∏¢‡πÉ‡∏´‡∏ç‡πà"
            },
            {
                id: 10,
                name: "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡πÄ‡∏≠‡∏™ ‡πÄ‡∏≠‡πá‡∏ô ‡∏ã‡∏µ ‡∏ü‡∏≠‡∏£‡πå‡πÄ‡∏°‡∏≠‡∏£‡πå ‡∏à‡∏≥‡∏Å‡∏±‡∏î (‡∏°‡∏´‡∏≤‡∏ä‡∏ô)",
                nameEn: "SNC Former PCL",
                industry: "‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£‡∏Å‡∏•",
                province: "‡∏õ‡∏ó‡∏∏‡∏°‡∏ò‡∏≤‡∏ô‡∏µ",
                employees: "200-500",
                type: "SME",
                productionType: "Engineer-to-Order",
                website: "https://www.sncformer.com",
                painPoints: ["‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏£‡∏≤‡∏Ñ‡∏≤", "‡∏Å‡∏≤‡∏£‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏ß‡∏•‡∏≤‡∏ú‡∏•‡∏¥‡∏ï"],
                opportunityScore: 95,
                description: "‡∏ú‡∏π‡πâ‡∏ú‡∏•‡∏¥‡∏ï‡∏ä‡∏¥‡πâ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡πÇ‡∏•‡∏´‡∏∞‡πÅ‡∏•‡∏∞‡πÅ‡∏°‡πà‡∏û‡∏¥‡∏°‡∏û‡πå"
            },
            // ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà
            {
                id: 11,
                name: "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡∏•‡∏≤‡∏ô‡∏ô‡∏≤‡πÇ‡∏õ‡∏£‡∏î‡∏±‡∏Å‡∏™‡πå ‡∏à‡∏≥‡∏Å‡∏±‡∏î",
                nameEn: "Lanna Products Co., Ltd.",
                industry: "‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°",
                province: "‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà",
                employees: "100-200",
                type: "SME",
                productionType: "Make-to-Stock",
                website: "https://www.lannaproducts.com",
                painPoints: ["‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï", "‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πá‡∏≠‡∏Å"],
                opportunityScore: 80,
                description: "‡∏ú‡∏π‡πâ‡∏ú‡∏•‡∏¥‡∏ï‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏õ‡∏£‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏Ñ‡πÄ‡∏´‡∏ô‡∏∑‡∏≠"
            },
            {
                id: 12,
                name: "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡∏Æ‡∏≤‡∏ô‡∏≤ ‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Ñ‡πÇ‡∏ó‡∏£‡∏ô‡∏¥‡∏Ñ‡∏™ ‡∏à‡∏≥‡∏Å‡∏±‡∏î (‡∏°‡∏´‡∏≤‡∏ä‡∏ô)",
                nameEn: "Hana Microelectronics PCL",
                industry: "‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå",
                province: "‡∏•‡∏≥‡∏û‡∏π‡∏ô",
                employees: "5,000+",
                type: "Large",
                productionType: "Make-to-Order",
                website: "https://www.hanagroup.com",
                painPoints: ["‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï", "‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û"],
                opportunityScore: 83,
                description: "‡∏ú‡∏π‡πâ‡∏ú‡∏•‡∏¥‡∏ï‡∏ä‡∏¥‡πâ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå‡∏ä‡∏±‡πâ‡∏ô‡∏ô‡∏≥"
            },
            // ‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤
            {
                id: 13,
                name: "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡∏ã‡∏µ‡∏û‡∏µ‡πÄ‡∏≠‡∏ü (‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢) ‡∏à‡∏≥‡∏Å‡∏±‡∏î (‡∏°‡∏´‡∏≤‡∏ä‡∏ô) - ‡πÇ‡∏Ñ‡∏£‡∏≤‡∏ä",
                nameEn: "CPF (Thailand) PCL - Korat",
                industry: "‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°",
                province: "‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤",
                employees: "1,000-5,000",
                type: "Large",
                productionType: "Make-to-Stock",
                website: "https://www.cpfworldwide.com",
                painPoints: ["‡∏Å‡∏≤‡∏£‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£", "‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï"],
                opportunityScore: 76,
                description: "‡∏ú‡∏π‡πâ‡∏ú‡∏•‡∏¥‡∏ï‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÅ‡∏•‡∏∞‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå‡∏à‡∏≤‡∏Å‡∏™‡∏±‡∏ï‡∏ß‡πå"
            },
            // ‡∏™‡∏á‡∏Ç‡∏•‡∏≤
            {
                id: 14,
                name: "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡∏™‡∏¢‡∏≤‡∏°‡πÄ‡∏ã‡∏°‡πÄ‡∏û‡∏≠‡∏£‡πå‡πÄ‡∏°‡∏î ‡∏à‡∏≥‡∏Å‡∏±‡∏î",
                nameEn: "Siam Sempermed Co., Ltd.",
                industry: "‡∏¢‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå‡∏¢‡∏≤‡∏á",
                province: "‡∏™‡∏á‡∏Ç‡∏•‡∏≤",
                employees: "1,000-5,000",
                type: "Large",
                productionType: "Make-to-Stock",
                website: "https://www.sempermed.com",
                painPoints: ["‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï", "‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û"],
                opportunityScore: 79,
                description: "‡∏ú‡∏π‡πâ‡∏ú‡∏•‡∏¥‡∏ï‡∏ñ‡∏∏‡∏á‡∏°‡∏∑‡∏≠‡∏¢‡∏≤‡∏á‡∏ä‡∏±‡πâ‡∏ô‡∏ô‡∏≥"
            },
            // ‡∏™‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏µ
            {
                id: 15,
                name: "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡∏õ‡∏π‡∏ô‡∏ã‡∏¥‡πÄ‡∏°‡∏ô‡∏ï‡πå‡πÑ‡∏ó‡∏¢ ‡∏à‡∏≥‡∏Å‡∏±‡∏î (‡∏°‡∏´‡∏≤‡∏ä‡∏ô) - ‡∏™‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏µ",
                nameEn: "The Siam Cement PCL - Saraburi",
                industry: "‡∏ß‡∏±‡∏™‡∏î‡∏∏‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á",
                province: "‡∏™‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏µ",
                employees: "5,000+",
                type: "Large",
                productionType: "Make-to-Stock",
                website: "https://www.scg.com",
                painPoints: ["‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï", "‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô"],
                opportunityScore: 74,
                description: "‡∏ú‡∏π‡πâ‡∏ú‡∏•‡∏¥‡∏ï‡∏õ‡∏π‡∏ô‡∏ã‡∏µ‡πÄ‡∏°‡∏ô‡∏ï‡πå‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏™‡∏î‡∏∏‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ä‡∏±‡πâ‡∏ô‡∏ô‡∏≥"
            }
        ];
        
        // Region colors
        const REGION_COLORS = {
            central: "#3B82F6",
            eastern: "#10B981",
            northern: "#F59E0B",
            northeastern: "#8B5CF6",
            southern: "#EF4444"
        };
        
        const REGION_NAMES = {
            central: "‡∏†‡∏≤‡∏Ñ‡∏Å‡∏•‡∏≤‡∏á",
            eastern: "‡∏†‡∏≤‡∏Ñ‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å",
            northern: "‡∏†‡∏≤‡∏Ñ‡πÄ‡∏´‡∏ô‡∏∑‡∏≠",
            northeastern: "‡∏†‡∏≤‡∏Ñ‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡πÄ‡∏´‡∏ô‡∏∑‡∏≠",
            southern: "‡∏†‡∏≤‡∏Ñ‡πÉ‡∏ï‡πâ"
        };

        // Gemini API System Prompt
        const SYSTEM_PROMPT = `‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô AI Assistant ‡∏ó‡∏µ‡πà‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢
‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏ã‡∏•‡∏π‡∏ä‡∏±‡∏ô "AI-Powered Workload Prediction"

‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ñ‡∏≤‡∏°‡∏´‡∏≤‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡πÉ‡∏´‡πâ‡∏ï‡∏≠‡∏ö‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö JSON ‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:
{
  "companies": [
    {
      "name": "‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó",
      "nameEn": "English Name",
      "industry": "‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°",
      "province": "‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î",
      "employees": "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô",
      "type": "SME ‡∏´‡∏£‡∏∑‡∏≠ Large",
      "productionType": "‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï",
      "website": "URL ‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏à‡∏£‡∏¥‡∏á",
      "description": "‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏™‡∏±‡πâ‡∏ô‡πÜ",
      "opportunityScore": 0-100
    }
  ],
  "summary": "‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤",
  "insights": ["‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å 1", "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å 2"]
}

‡∏Å‡∏é:
1. ‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
2. Website ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô URL ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏£‡∏¥‡∏á
3. opportunityScore ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏Å‡∏±‡∏ö AI Workload Prediction
4. SME = ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô 50-500 ‡∏Ñ‡∏ô, Large = ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 500 ‡∏Ñ‡∏ô
5. ‡∏ï‡∏≠‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô summary ‡πÅ‡∏•‡∏∞ insights`;
        
        // Header Component
        const Header = ({ currentView, onNavigate, apiKey, setApiKey }) => {
            const [showApiModal, setShowApiModal] = useState(false);
            const [tempApiKey, setTempApiKey] = useState(apiKey);
            
            return (
                <header className="glass p-4 mb-6">
                    <div className="flex items-center justify-between flex-wrap gap-4">
                        <div className="flex items-center gap-4">
                            <div className="w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-emerald-500 flex items-center justify-center">
                                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2">
                                    <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                                    <path d="M2 17l10 5 10-5"/>
                                    <path d="M2 12l10 5 10-5"/>
                                </svg>
                            </div>
                            <div>
                                <h1 className="text-xl font-bold bg-gradient-to-r from-blue-400 to-emerald-400 bg-clip-text text-transparent">
                                    Manufacturing Intel Thailand
                                </h1>
                                <p className="text-xs text-slate-400">AI-Powered Target Company Discovery</p>
                            </div>
                        </div>
                        
                        <div className="flex items-center gap-3">
                            <button 
                                onClick={() => onNavigate('map')}
                                className={`btn-secondary text-sm ${currentView === 'map' ? 'bg-blue-500/30 border-blue-500' : ''}`}
                            >
                                üó∫Ô∏è ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà
                            </button>
                            <button 
                                onClick={() => onNavigate('ai-search')}
                                className={`btn-secondary text-sm ${currentView === 'ai-search' ? 'bg-blue-500/30 border-blue-500' : ''}`}
                            >
                                ü§ñ AI Search
                            </button>
                            <button 
                                onClick={() => setShowApiModal(true)}
                                className="btn-secondary text-sm"
                            >
                                ‚öôÔ∏è API Key
                            </button>
                        </div>
                    </div>
                    
                    {/* API Key Modal */}
                    {showApiModal && (
                        <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
                            <div className="glass p-6 max-w-md w-full">
                                <h3 className="text-lg font-semibold mb-4">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Gemini API Key</h3>
                                <p className="text-sm text-slate-400 mb-4">
                                    ‡πÉ‡∏™‡πà API Key ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô AI Search ‚Ä¢ 
                                    <a href="https://aistudio.google.com/apikey" target="_blank" className="text-blue-400 hover:underline">
                                        ‡∏£‡∏±‡∏ö API Key ‡∏ü‡∏£‡∏µ ‚Üí
                                    </a>
                                </p>
                                <input
                                    type="password"
                                    placeholder="AIza..."
                                    className="input-field mb-4"
                                    value={tempApiKey}
                                    onChange={(e) => setTempApiKey(e.target.value)}
                                />
                                <div className="flex gap-3">
                                    <button 
                                        onClick={() => setShowApiModal(false)}
                                        className="btn-secondary flex-1"
                                    >
                                        ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
                                    </button>
                                    <button 
                                        onClick={() => {
                                            setApiKey(tempApiKey);
                                            localStorage.setItem('gemini_api_key', tempApiKey);
                                            setShowApiModal(false);
                                        }}
                                        className="btn-primary flex-1"
                                    >
                                        ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                </header>
            );
        };
        
        // Thailand Map Component
        const ThailandMap = ({ onProvinceClick, selectedProvince }) => {
            const [tooltip, setTooltip] = useState({ show: false, x: 0, y: 0, province: '', companies: 0 });
            
            const handleMouseMove = (e, province) => {
                const data = PROVINCES_DATA[province];
                if (data) {
                    setTooltip({
                        show: true,
                        x: e.clientX + 10,
                        y: e.clientY + 10,
                        province,
                        companies: data.companies,
                        region: REGION_NAMES[data.region]
                    });
                }
            };
            
            const handleMouseLeave = () => {
                setTooltip({ ...tooltip, show: false });
            };
            
            return (
                <div className="relative">
                    <svg viewBox="0 0 100 100" className="w-full h-auto max-h-[500px]">
                        {/* Background */}
                        <rect width="100" height="100" fill="#0F172A"/>
                        
                        {/* Thailand simplified outline */}
                        <path 
                            d="M35 15 L50 10 L60 15 L65 25 L62 35 L58 40 L55 35 L52 38 L55 45 L60 50 L58 55 L55 52 L52 55 L55 60 L52 65 L48 60 L45 65 L42 60 L40 55 L35 58 L38 50 L35 45 L32 48 L30 42 L35 38 L32 32 L35 25 Z"
                            fill="#1E3A5F"
                            stroke="#3B82F6"
                            strokeWidth="0.5"
                        />
                        
                        {/* Province dots */}
                        {Object.entries(PROVINCES_DATA).map(([province, data]) => {
                            const companyCount = COMPANIES_DATABASE.filter(c => c.province === province).length;
                            const hasCompanies = companyCount > 0;
                            
                            return (
                                <g key={province}>
                                    <circle
                                        cx={data.x}
                                        cy={data.y}
                                        r={hasCompanies ? 3 : 2}
                                        fill={selectedProvince === province ? "#10B981" : (hasCompanies ? "#3B82F6" : "#64748B")}
                                        stroke={hasCompanies ? "#60A5FA" : "#475569"}
                                        strokeWidth="0.5"
                                        style={{ cursor: 'pointer', transition: 'all 0.2s' }}
                                        onClick={() => onProvinceClick(province)}
                                        onMouseMove={(e) => handleMouseMove(e, province)}
                                        onMouseLeave={handleMouseLeave}
                                    />
                                    {hasCompanies && (
                                        <circle
                                            cx={data.x}
                                            cy={data.y}
                                            r={4}
                                            fill="none"
                                            stroke="#3B82F6"
                                            strokeWidth="0.3"
                                            opacity="0.5"
                                        >
                                            <animate attributeName="r" from="3" to="6" dur="2s" repeatCount="indefinite"/>
                                            <animate attributeName="opacity" from="0.5" to="0" dur="2s" repeatCount="indefinite"/>
                                        </circle>
                                    )}
                                </g>
                            );
                        })}
                        
                        {/* Legend */}
                        <g transform="translate(5, 80)">
                            <rect width="25" height="18" fill="rgba(15,23,42,0.8)" rx="2"/>
                            <circle cx="4" cy="5" r="2" fill="#3B82F6"/>
                            <text x="8" y="7" fill="#94A3B8" fontSize="2.5">‡∏°‡∏µ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó</text>
                            <circle cx="4" cy="12" r="2" fill="#64748B"/>
                            <text x="8" y="14" fill="#94A3B8" fontSize="2.5">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</text>
                        </g>
                    </svg>
                    
                    {/* Tooltip */}
                    {tooltip.show && (
                        <div 
                            className="map-tooltip"
                            style={{ 
                                position: 'fixed',
                                left: tooltip.x,
                                top: tooltip.y
                            }}
                        >
                            <div className="font-semibold">{tooltip.province}</div>
                            <div className="text-xs text-slate-400">{tooltip.region}</div>
                            <div className="text-sm text-blue-400 mt-1">
                                {COMPANIES_DATABASE.filter(c => c.province === tooltip.province).length} ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö
                            </div>
                        </div>
                    )}
                </div>
            );
        };
        
        // Province List Component
        const ProvinceList = ({ onProvinceClick }) => {
            const provincesWithCompanies = Object.entries(PROVINCES_DATA)
                .map(([name, data]) => ({
                    name,
                    ...data,
                    companyCount: COMPANIES_DATABASE.filter(c => c.province === name).length
                }))
                .filter(p => p.companyCount > 0)
                .sort((a, b) => b.companyCount - a.companyCount);
            
            return (
                <div className="space-y-2 max-h-[400px] overflow-y-auto pr-2">
                    {provincesWithCompanies.map(province => (
                        <div 
                            key={province.name}
                            className="province-list-item"
                            onClick={() => onProvinceClick(province.name)}
                        >
                            <div className="flex items-center justify-between">
                                <div className="flex items-center gap-3">
                                    <div 
                                        className="w-3 h-3 rounded-full"
                                        style={{ background: REGION_COLORS[province.region] }}
                                    />
                                    <div>
                                        <div className="font-medium">{province.name}</div>
                                        <div className="text-xs text-slate-400">{REGION_NAMES[province.region]}</div>
                                    </div>
                                </div>
                                <div className="text-right">
                                    <div className="text-lg font-bold text-blue-400">{province.companyCount}</div>
                                    <div className="text-xs text-slate-400">‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó</div>
                                </div>
                            </div>
                        </div>
                    ))}
                </div>
            );
        };
        
        // Company Card Component
        const CompanyCard = ({ company }) => (
            <div className="company-card">
                <div className="flex items-start justify-between gap-4">
                    <div className="flex-1">
                        <h3 className="font-semibold text-lg mb-1">{company.name}</h3>
                        <p className="text-sm text-slate-400 mb-3">{company.nameEn}</p>
                        <div className="flex flex-wrap gap-2 mb-3">
                            <span className="tag tag-blue">{company.industry}</span>
                            <span className="tag tag-purple">{company.province}</span>
                            <span className="tag tag-orange">{company.productionType}</span>
                            <span className={`tag ${company.type === 'SME' ? 'tag-green' : 'tag-red'}`}>
                                {company.type} ‚Ä¢ {company.employees}
                            </span>
                        </div>
                        <p className="text-sm text-slate-300 mb-3">{company.description}</p>
                        <div className="text-xs text-slate-400">
                            <strong>Pain Points:</strong> {company.painPoints.join(", ")}
                        </div>
                    </div>
                    <div className="text-center">
                        <div className="w-16 h-16 rounded-full border-4 border-emerald-500/30 flex items-center justify-center mb-2"
                             style={{ 
                                 background: `conic-gradient(#10B981 ${company.opportunityScore}%, transparent ${company.opportunityScore}%)`
                             }}>
                            <div className="w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center">
                                <span className="text-lg font-bold">{company.opportunityScore}</span>
                            </div>
                        </div>
                        <div className="text-xs text-slate-400">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                    </div>
                </div>
                <div className="mt-4 pt-4 border-t border-slate-700 flex justify-end">
                    <a 
                        href={company.website}
                        target="_blank"
                        rel="noopener noreferrer"
                        className="btn-primary text-sm"
                    >
                        üîó ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î ‚Üí
                    </a>
                </div>
            </div>
        );
        
        // Province Detail View
        const ProvinceDetailView = ({ province, onBack, companies }) => (
            <div>
                <div className="breadcrumb mb-4">
                    <a onClick={onBack}>üó∫Ô∏è ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà</a>
                    <span>‚Üí</span>
                    <span className="text-white">{province}</span>
                </div>
                
                <div className="glass p-6 mb-6">
                    <div className="flex items-center gap-4">
                        <div className="w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500/20 to-emerald-500/20 flex items-center justify-center">
                            <span className="text-3xl">üìç</span>
                        </div>
                        <div>
                            <h2 className="text-2xl font-bold">{province}</h2>
                            <p className="text-slate-400">
                                {REGION_NAMES[PROVINCES_DATA[province]?.region]} ‚Ä¢ {companies.length} ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö
                            </p>
                        </div>
                    </div>
                </div>
                
                {companies.length > 0 ? (
                    <div className="space-y-4">
                        {companies.map(company => (
                            <CompanyCard key={company.id} company={company} />
                        ))}
                    </div>
                ) : (
                    <div className="glass p-12 text-center">
                        <div className="text-5xl mb-4">üîç</div>
                        <h3 className="text-xl font-semibold mb-2">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡πÉ‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ô‡∏µ‡πâ</h3>
                        <p className="text-slate-400">‡πÉ‡∏ä‡πâ AI Search ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</p>
                    </div>
                )}
            </div>
        );
        
        // AI Search View
        const AISearchView = ({ apiKey, onAddCompanies }) => {
            const [query, setQuery] = useState('');
            const [messages, setMessages] = useState([]);
            const [isLoading, setIsLoading] = useState(false);
            const [foundCompanies, setFoundCompanies] = useState([]);
            const messagesEndRef = useRef(null);
            
            useEffect(() => {
                messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
            }, [messages]);
            
            const searchWithAI = async () => {
                if (!query.trim() || isLoading) return;
                
                if (!apiKey) {
                    setMessages(prev => [...prev, {
                        role: 'assistant',
                        content: '‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Gemini API Key ‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° ‚öôÔ∏è API Key ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô)'
                    }]);
                    return;
                }
                
                const userQuery = query;
                setQuery('');
                setMessages(prev => [...prev, { role: 'user', content: userQuery }]);
                setIsLoading(true);
                
                try {
                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            contents: [
                                { role: "user", parts: [{ text: SYSTEM_PROMPT }] },
                                { role: "model", parts: [{ text: "‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏£‡∏±‡∏ö ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡∏ï‡∏≠‡∏ö‡πÄ‡∏õ‡πá‡∏ô JSON" }] },
                                { role: "user", parts: [{ text: userQuery }] }
                            ],
                            generationConfig: {
                                temperature: 0.7,
                                maxOutputTokens: 4096,
                            }
                        })
                    });
                    
                    if (!response.ok) throw new Error(`API Error: ${response.status}`);
                    
                    const data = await response.json();
                    const text = data.candidates[0].content.parts[0].text;
                    
                    // Try to parse JSON from response
                    let jsonMatch = text.match(/\{[\s\S]*\}/);
                    if (jsonMatch) {
                        try {
                            const parsed = JSON.parse(jsonMatch[0]);
                            if (parsed.companies && parsed.companies.length > 0) {
                                const newCompanies = parsed.companies.map((c, i) => ({
                                    ...c,
                                    id: Date.now() + i,
                                    painPoints: c.painPoints || ["‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï"],
                                    opportunityScore: c.opportunityScore || 80
                                }));
                                setFoundCompanies(newCompanies);
                                setMessages(prev => [...prev, {
                                    role: 'assistant',
                                    content: `‚úÖ ${parsed.summary || `‡∏û‡∏ö ${newCompanies.length} ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó`}\n\n${parsed.insights ? 'üí° Insights:\n‚Ä¢ ' + parsed.insights.join('\n‚Ä¢ ') : ''}`,
                                    companies: newCompanies
                                }]);
                            } else {
                                setMessages(prev => [...prev, { role: 'assistant', content: text }]);
                            }
                        } catch (e) {
                            setMessages(prev => [...prev, { role: 'assistant', content: text }]);
                        }
                    } else {
                        setMessages(prev => [...prev, { role: 'assistant', content: text }]);
                    }
                } catch (err) {
                    setMessages(prev => [...prev, {
                        role: 'assistant',
                        content: `‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ${err.message}\n\n‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö API Key ‡πÅ‡∏•‡∏∞‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà`
                    }]);
                }
                
                setIsLoading(false);
            };
            
            const quickQueries = [
                "‡∏´‡∏≤‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏ú‡∏•‡∏¥‡∏ï‡∏ä‡∏¥‡πâ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏¢‡∏≤‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡πÉ‡∏ô EEC",
                "SMEs ‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå‡πÉ‡∏ô‡∏•‡∏≥‡∏û‡∏π‡∏ô",
                "‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÉ‡∏ô‡∏†‡∏≤‡∏Ñ‡πÄ‡∏´‡∏ô‡∏∑‡∏≠",
                "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡πÉ‡∏ô‡∏£‡∏∞‡∏¢‡∏≠‡∏á"
            ];
            
            return (
                <div>
                    <div className="glass p-6 mb-6">
                        <h2 className="text-xl font-bold mb-2 flex items-center gap-2">
                            ü§ñ AI Company Search
                        </h2>
                        <p className="text-slate-400 text-sm mb-4">
                            ‡πÉ‡∏ä‡πâ Gemini AI ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏à‡∏≤‡∏Å‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï
                        </p>
                        
                        <div className="flex flex-wrap gap-2 mb-4">
                            {quickQueries.map((q, i) => (
                                <button
                                    key={i}
                                    onClick={() => setQuery(q)}
                                    className="text-sm px-3 py-1 rounded-full bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 transition"
                                >
                                    {q}
                                </button>
                            ))}
                        </div>
                        
                        <div className="flex gap-3">
                            <input
                                type="text"
                                placeholder="‡∏ñ‡∏≤‡∏° AI ‡πÄ‡∏ä‡πà‡∏ô '‡∏´‡∏≤ SMEs ‡∏¢‡∏≤‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡πÉ‡∏ô‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ'"
                                className="input-field flex-1"
                                value={query}
                                onChange={(e) => setQuery(e.target.value)}
                                onKeyPress={(e) => e.key === 'Enter' && searchWithAI()}
                            />
                            <button 
                                onClick={searchWithAI}
                                disabled={isLoading}
                                className="btn-primary flex items-center gap-2"
                            >
                                {isLoading ? (
                                    <div className="loading-spinner"/>
                                ) : (
                                    "üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤"
                                )}
                            </button>
                        </div>
                    </div>
                    
                    {/* Chat Messages */}
                    <div className="glass p-6 min-h-[400px] max-h-[600px] overflow-y-auto">
                        {messages.length === 0 ? (
                            <div className="text-center py-12">
                                <div className="text-5xl mb-4">üîç</div>
                                <h3 className="text-xl font-semibold mb-2">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏î‡πâ‡∏ß‡∏¢ AI</h3>
                                <p className="text-slate-400">‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô</p>
                            </div>
                        ) : (
                            messages.map((msg, i) => (
                                <div key={i} className={msg.role === 'user' ? 'user-message' : 'ai-message'}>
                                    <div className="whitespace-pre-wrap">{msg.content}</div>
                                    {msg.companies && msg.companies.length > 0 && (
                                        <div className="mt-4 space-y-3">
                                            {msg.companies.map((company, j) => (
                                                <div key={j} className="bg-slate-800/50 p-4 rounded-lg">
                                                    <div className="flex items-start justify-between gap-4">
                                                        <div>
                                                            <h4 className="font-semibold">{company.name}</h4>
                                                            <p className="text-sm text-slate-400">{company.nameEn}</p>
                                                            <div className="flex flex-wrap gap-2 mt-2">
                                                                <span className="tag tag-blue">{company.industry}</span>
                                                                <span className="tag tag-purple">{company.province}</span>
                                                            </div>
                                                            <p className="text-sm text-slate-300 mt-2">{company.description}</p>
                                                        </div>
                                                        <div className="flex flex-col gap-2">
                                                            <span className="text-xl font-bold text-emerald-400">{company.opportunityScore}%</span>
                                                            {company.website && (
                                                                <a 
                                                                    href={company.website}
                                                                    target="_blank"
                                                                    rel="noopener noreferrer"
                                                                    className="text-sm text-blue-400 hover:underline"
                                                                >
                                                                    üîó ‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå
                                                                </a>
                                                            )}
                                                        </div>
                                                    </div>
                                                </div>
                                            ))}
                                            <button
                                                onClick={() => {
                                                    onAddCompanies(msg.companies);
                                                    alert(`‡πÄ‡∏û‡∏¥‡πà‡∏° ${msg.companies.length} ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡πâ‡∏ß!`);
                                                }}
                                                className="btn-primary w-full mt-4"
                                            >
                                                ‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏ö
                                            </button>
                                        </div>
                                    )}
                                </div>
                            ))
                        )}
                        {isLoading && (
                            <div className="ai-message flex items-center gap-3">
                                <div className="loading-spinner"/>
                                <span>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤...</span>
                            </div>
                        )}
                        <div ref={messagesEndRef}/>
                    </div>
                </div>
            );
        };
        
        // Map View (Main Dashboard)
        const MapView = ({ onProvinceClick }) => {
            const totalCompanies = COMPANIES_DATABASE.length;
            const smeCount = COMPANIES_DATABASE.filter(c => c.type === 'SME').length;
            const avgScore = Math.round(COMPANIES_DATABASE.reduce((a, b) => a + b.opportunityScore, 0) / totalCompanies);
            
            return (
                <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    {/* Stats */}
                    <div className="lg:col-span-3 grid grid-cols-2 md:grid-cols-4 gap-4">
                        <div className="stat-card">
                            <div className="text-3xl font-bold text-blue-400">{totalCompanies}</div>
                            <div className="text-sm text-slate-400">‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</div>
                        </div>
                        <div className="stat-card">
                            <div className="text-3xl font-bold text-emerald-400">{smeCount}</div>
                            <div className="text-sm text-slate-400">SMEs</div>
                        </div>
                        <div className="stat-card">
                            <div className="text-3xl font-bold text-amber-400">{Object.keys(PROVINCES_DATA).length}</div>
                            <div className="text-sm text-slate-400">‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</div>
                        </div>
                        <div className="stat-card">
                            <div className="text-3xl font-bold text-purple-400">{avgScore}%</div>
                            <div className="text-sm text-slate-400">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢</div>
                        </div>
                    </div>
                    
                    {/* Map */}
                    <div className="lg:col-span-2 glass p-6">
                        <h2 className="text-lg font-semibold mb-4">üó∫Ô∏è ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢</h2>
                        <p className="text-sm text-slate-400 mb-4">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡πÉ‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ô‡∏±‡πâ‡∏ô</p>
                        <ThailandMap onProvinceClick={onProvinceClick}/>
                    </div>
                    
                    {/* Province List */}
                    <div className="glass p-6">
                        <h2 className="text-lg font-semibold mb-4">üìç ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h2>
                        <ProvinceList onProvinceClick={onProvinceClick}/>
                    </div>
                </div>
            );
        };
        
        // Main App
        const App = () => {
            const [currentView, setCurrentView] = useState('map');
            const [selectedProvince, setSelectedProvince] = useState(null);
            const [companies, setCompanies] = useState(COMPANIES_DATABASE);
            const [apiKey, setApiKey] = useState(localStorage.getItem('gemini_api_key') || '');
            
            const handleProvinceClick = (province) => {
                setSelectedProvince(province);
                setCurrentView('province');
            };
            
            const handleNavigate = (view) => {
                setCurrentView(view);
                setSelectedProvince(null);
            };
            
            const handleAddCompanies = (newCompanies) => {
                setCompanies(prev => [...prev, ...newCompanies]);
            };
            
            const getProvinceCompanies = (province) => {
                return companies.filter(c => c.province === province);
            };
            
            return (
                <div className="min-h-screen p-4 lg:p-6">
                    <div className="max-w-7xl mx-auto">
                        <Header 
                            currentView={currentView}
                            onNavigate={handleNavigate}
                            apiKey={apiKey}
                            setApiKey={setApiKey}
                        />
                        
                        {currentView === 'map' && (
                            <MapView onProvinceClick={handleProvinceClick}/>
                        )}
                        
                        {currentView === 'province' && selectedProvince && (
                            <ProvinceDetailView 
                                province={selectedProvince}
                                companies={getProvinceCompanies(selectedProvince)}
                                onBack={() => handleNavigate('map')}
                            />
                        )}
                        
                        {currentView === 'ai-search' && (
                            <AISearchView 
                                apiKey={apiKey}
                                onAddCompanies={handleAddCompanies}
                            />
                        )}
                        
                        <footer className="mt-8 py-4 text-center text-sm text-slate-500">
                            <p>Manufacturing Intel Thailand ‚Ä¢ AI-Powered Workload Prediction</p>
                        </footer>
                    </div>
                </div>
            );
        };
        
        ReactDOM.createRoot(document.getElementById('app')).render(<App />);
    </script>
</body>
</html>